(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1851:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(5155),l=s(2115),r=s(3462);function n(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(""),[o,d]=(0,l.useState)(""),[u,i]=(0,l.useState)(""),[m,c]=(0,l.useState)(""),[p,x]=(0,l.useState)(""),[f,h]=(0,l.useState)(null),[w,b]=(0,l.useState)(null),[g,j]=(0,l.useState)(""),y=async t=>{if(t.preventDefault(),j(""),!e||!s||!o||!u||!m)return void j("❌ Please fill in all fields.");if(u!==m){x("Passwords do not match"),j("❌ Passwords do not match.");return}if(!/^[a-zA-Z0-9]+$/.test(s))return void j("❌ Username must contain only letters and numbers.");if(!f||!w)return void j("❌ Please upload both proof of address and ID copy.");try{let t=new FormData;t.append("name",e),t.append("username",s),t.append("email",o),t.append("password",u),t.append("proofOfAddress",f),t.append("idCopy",w);let a=await fetch("".concat("http://localhost:5000/api","/auth/register"),{method:"POST",body:t}),l=await a.json();if(!a.ok)return void j("❌ ".concat(l.error||"Registration failed."));(0,r.WG)(l.token),j("✅ Account created! You are now logged in.")}catch(e){j("❌ Server error. Please try again.")}};return l.useEffect(()=>{m&&u!==m?x("Passwords do not match"):x("")},[u,m]),(0,a.jsxs)("main",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-yellow-600 mb-6 text-center",children:"Create Account"}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",encType:"multipart/form-data",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Proof of Address (PDF/JPG/PNG)"}),(0,a.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",required:!0,onChange:e=>h(e.target.files?e.target.files[0]:null),className:"w-full px-4 py-2 border rounded shadow-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"ID Copy (PDF/JPG/PNG)"}),(0,a.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",required:!0,onChange:e=>b(e.target.files?e.target.files[0]:null),className:"w-full px-4 py-2 border rounded shadow-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Username (letters and numbers only)"}),(0,a.jsx)("input",{type:"text",required:!0,value:s,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border rounded shadow-sm",pattern:"[a-zA-Z0-9]+",title:"Username must contain only letters and numbers.",autoComplete:"username"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Full Name"}),(0,a.jsx)("input",{type:"text",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border rounded shadow-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Email"}),(0,a.jsx)("input",{type:"email",required:!0,value:o,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border rounded shadow-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Password"}),(0,a.jsx)("input",{type:"password",required:!0,value:u,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border rounded shadow-sm",autoComplete:"new-password"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",required:!0,value:m,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border rounded shadow-sm",autoComplete:"new-password"}),p&&(0,a.jsx)("p",{className:"text-red-600 text-xs mt-1",children:p})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded",disabled:!!p||!u||!m,children:"Register"}),g&&(0,a.jsx)("p",{className:"text-center mt-2 text-green-600",children:g})]})]})}},3462:(e,t,s)=>{"use strict";function a(e){localStorage.setItem("jwt_token",e)}function l(){return localStorage.getItem("jwt_token")}s.d(t,{WG:()=>a,gf:()=>l})},6464:(e,t,s)=>{Promise.resolve().then(s.bind(s,1851))}},e=>{e.O(0,[441,964,358],()=>e(e.s=6464)),_N_E=e.O()}]);