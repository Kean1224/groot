(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{284:(e,s,l)=>{Promise.resolve().then(l.bind(l,1561))},1561:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>c});var t=l(5155),a=l(2115);function c(){let[e,s]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[n,r]=(0,a.useState)(""),[i,o]=(0,a.useState)(""),d=async()=>{if(i){c(!0),r("");try{let e=await fetch("".concat("http://localhost:5000/api","/invoices/seller/").concat(encodeURIComponent(i)));if(!e.ok)throw Error("No invoices found");let l=await e.json();s(l)}catch(e){r(e.message||"Failed to fetch invoices"),s([])}finally{c(!1)}}};return(0,t.jsxs)("main",{className:"max-w-3xl mx-auto p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-yellow-600",children:"Seller Invoices"}),(0,t.jsxs)("div",{className:"mb-4 flex gap-2 items-center",children:[(0,t.jsx)("input",{type:"email",placeholder:"Enter your seller email",value:i,onChange:e=>o(e.target.value),className:"border px-3 py-2 rounded w-full"}),(0,t.jsx)("button",{onClick:d,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"View"}),(0,t.jsx)("button",{onClick:()=>{i&&window.open("".concat("http://localhost:5000/api","/invoices/seller/").concat(encodeURIComponent(i),"/pdf"),"_blank")},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",disabled:!e.length,children:"Download PDF"})]}),l&&(0,t.jsx)("p",{children:"Loading..."}),n&&(0,t.jsx)("p",{className:"text-red-500",children:n}),!l&&!n&&e.length>0&&(0,t.jsxs)("table",{className:"w-full border text-sm mt-4",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-100",children:[(0,t.jsx)("th",{className:"p-2",children:"Auction"}),(0,t.jsx)("th",{className:"p-2",children:"Lot"}),(0,t.jsx)("th",{className:"p-2",children:"Item"}),(0,t.jsx)("th",{className:"p-2",children:"Buyer"}),(0,t.jsx)("th",{className:"p-2",children:"Sale Amount"}),(0,t.jsx)("th",{className:"p-2",children:"Seller Net"}),(0,t.jsx)("th",{className:"p-2",children:"Date"})]})}),(0,t.jsx)("tbody",{children:e.map((e,s)=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"p-2",children:e.auctionTitle}),(0,t.jsx)("td",{className:"p-2",children:e.lotNumber}),(0,t.jsx)("td",{className:"p-2",children:e.item}),(0,t.jsx)("td",{className:"p-2",children:e.buyerEmail}),(0,t.jsxs)("td",{className:"p-2",children:["R",e.baseAmount]}),(0,t.jsxs)("td",{className:"p-2",children:["R",e.sellerNet]}),(0,t.jsx)("td",{className:"p-2",children:new Date(e.date).toLocaleString()})]},s))})]}),!l&&!n&&!e.length&&(0,t.jsx)("p",{className:"text-gray-500 mt-4",children:"No invoices found for this seller."})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=284)),_N_E=e.O()}]);