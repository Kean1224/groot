(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{143:(e,s,t)=>{"use strict";t.d(s,{default:()=>x});var n=t(5155),l=t(2115),a=t(6874),i=t.n(a),r=t(5695);function o(){let[e,s]=(0,l.useState)(null);return((0,l.useEffect)(()=>{let e=null,t="";try{let e=localStorage.getItem("token");e&&(t=JSON.parse(atob(e.split(".")[1])).email)}catch(e){}if(t)return(e=new WebSocket("ws://localhost:5050")).onopen=()=>{null==e||e.send(JSON.stringify({type:"register",email:t}))},e.onmessage=e=>{try{let t=JSON.parse(e.data);t&&t.message&&s(t.message)}catch(e){}},()=>{null==e||e.close()}},[]),e)?(0,n.jsxs)("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 bg-yellow-600 text-white px-6 py-3 rounded-xl shadow-lg z-50 animate-bounce",children:[e,(0,n.jsx)("button",{className:"ml-4 text-white font-bold",onClick:()=>s(null),children:"\xd7"})]}):null}function c(){let[e,s]=(0,l.useState)(null),[t,a]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=e=>{e.preventDefault(),s(e),a(!0)};return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)},[]);let i=async()=>{if(e){e.prompt();let{outcome:s}=await e.userChoice;"accepted"===s&&a(!1)}};return!t||window.innerWidth>768?null:(0,n.jsxs)("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 bg-yellow-600 text-white px-6 py-3 rounded-xl shadow-lg z-50 flex items-center gap-4 animate-bounce",children:[(0,n.jsx)("span",{children:"Install All4You Auctioneers on your device!"}),(0,n.jsx)("button",{className:"bg-white text-yellow-700 font-bold px-4 py-2 rounded shadow hover:bg-yellow-100",onClick:i,children:"Add to Home Screen"})]})}function d(){let e=(0,r.usePathname)(),[s,t]=(0,l.useState)(!1),[a,d]=(0,l.useState)(!1),[h,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{fetch("/api/auth/session",{credentials:"include"}).then(e=>e.json()).then(e=>x(!!e.isAdmin))},[]);let u=s=>e===s?"underline underline-offset-4 text-black":"hover:text-black";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o,{}),(0,n.jsx)(c,{}),(0,n.jsxs)("header",{className:"bg-yellow-600 text-white shadow sticky top-0 z-50",children:[(0,n.jsxs)("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-4 py-4",children:[(0,n.jsxs)(i(),{href:"/",className:"flex items-center gap-2 text-2xl font-bold tracking-tight hover:text-black transition",children:[(0,n.jsx)("img",{src:"/img/ChatGPT%20Image%20Jul%2028,%202025,%2011_14_52%20PM.png",alt:"Logo",className:"h-10 w-10 object-contain rounded-full bg-white shadow",style:{maxWidth:40,maxHeight:40}}),"All4You Auctioneers"]}),(0,n.jsxs)("nav",{className:"hidden md:flex gap-6 text-sm font-semibold items-center",children:[(0,n.jsx)(i(),{href:"/auctions",className:u("/auctions"),children:"Auctions"}),(0,n.jsx)(i(),{href:"/terms",className:u("/terms"),children:"Terms"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("button",{onClick:()=>d(!a),className:"hover:text-black transition focus:outline-none",children:"My Account ▾"}),a&&(0,n.jsxs)("div",{className:"absolute right-0 bg-white text-black shadow-lg rounded-md mt-2 py-2 w-48 z-50",children:[(0,n.jsx)(i(),{href:"/account/buyer",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>d(!1),children:"Buyer Invoices"}),(0,n.jsx)(i(),{href:"/account/seller",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>d(!1),children:"Seller Invoices"})]})]}),(0,n.jsx)(i(),{href:"/contact",className:u("/contact"),children:"Contact"}),(0,n.jsx)(i(),{href:"/my-auctions/invoices",className:u("/my-auctions/invoices"),children:"My Auctions"}),h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{href:"/admin/inbox",className:u("/admin/inbox"),children:"Admin Inbox"}),(0,n.jsx)(i(),{href:"/admin/refunds",className:u("/admin/refunds"),children:"Refunds"})]}),(0,n.jsx)(i(),{href:"/login",className:u("/login"),children:"Login"}),(0,n.jsx)(i(),{href:"/register",className:u("/register"),children:"Register"}),(0,n.jsx)(i(),{href:"/sell",className:u("/sell"),children:"Sell"})]}),(0,n.jsx)("button",{className:"md:hidden text-white text-2xl focus:outline-none",onClick:()=>t(!s),children:"☰"})]}),s&&(0,n.jsx)("div",{className:"md:hidden px-4 pb-6 bg-yellow-500 text-white text-base font-semibold transition-all rounded-b-2xl shadow-xl",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2 divide-y divide-yellow-200",children:[(0,n.jsx)(i(),{href:"/auctions",className:u("/auctions")+" py-3 px-2 rounded-lg hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Auctions"}),(0,n.jsx)(i(),{href:"/terms",className:u("/terms")+" py-3 px-2 rounded-lg hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Terms"}),(0,n.jsxs)("div",{className:"pt-3 pb-1",children:[(0,n.jsx)("p",{className:"font-bold text-white mb-1 pl-1",children:"My Account"}),(0,n.jsxs)("div",{className:"flex flex-col gap-1 pl-3",children:[(0,n.jsx)(i(),{href:"/account/buyer",className:"py-2 px-2 rounded hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Buyer Invoices"}),(0,n.jsx)(i(),{href:"/account/seller",className:"py-2 px-2 rounded hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Seller Invoices"})]})]}),(0,n.jsx)(i(),{href:"/contact",className:u("/contact")+" py-3 px-2 rounded-lg hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Contact"}),(0,n.jsx)(i(),{href:"/my-auctions/invoices",className:u("/my-auctions/invoices")+" py-3 px-2 rounded-lg hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"My Auctions"}),h&&(0,n.jsx)(i(),{href:"/admin/inbox",className:u("/admin/inbox")+" py-3 px-2 rounded-lg hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Admin Inbox"}),(0,n.jsx)(i(),{href:"/login",className:u("/login")+" py-3 px-2 rounded-lg hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Login"}),(0,n.jsx)(i(),{href:"/register",className:u("/register")+" py-3 px-2 rounded-lg hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Register"}),(0,n.jsx)(i(),{href:"/sell",className:u("/sell")+" py-3 px-2 rounded-lg hover:bg-yellow-600 transition",onClick:()=>t(!1),children:"Sell"})]})})]})]})}function h(){return(0,n.jsx)("footer",{className:"bg-gray-900 text-white px-4 py-10 mt-20",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto text-center space-y-4",children:[(0,n.jsxs)("p",{className:"text-sm md:text-base",children:["\xa9 ",new Date().getFullYear()," ",(0,n.jsx)("span",{className:"font-semibold",children:"All4You Auctioneers"}),". All rights reserved."]}),(0,n.jsxs)("div",{className:"flex justify-center gap-4 text-xs text-gray-400",children:[(0,n.jsx)(i(),{href:"/terms",className:"hover:text-white transition",children:"Terms"}),(0,n.jsx)(i(),{href:"/contact",className:"hover:text-white transition",children:"Contact"}),(0,n.jsx)(i(),{href:"/sell",className:"hover:text-white transition",children:"Sell With Us"})]}),(0,n.jsxs)("p",{className:"text-xs text-gray-400",children:["Built with ",(0,n.jsx)("span",{className:"text-pink-500",children:"❤️"})," in South Africa"]}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Powered by Next.js, Tailwind CSS, and your hustle \uD83D\uDCAA"})]})})}function x(e){let{children:s}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d,{}),(0,n.jsx)("main",{className:"min-h-screen bg-white text-gray-900",children:s}),(0,n.jsx)(h,{})]})}},2464:(e,s,t)=>{Promise.resolve().then(t.bind(t,143)),Promise.resolve().then(t.t.bind(t,8563,23))},5695:(e,s,t)=>{"use strict";var n=t(8999);t.o(n,"useParams")&&t.d(s,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(s,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(s,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(s,{useSearchParams:function(){return n.useSearchParams}})},8563:()=>{}},e=>{e.O(0,[306,874,441,964,358],()=>e(e.s=2464)),_N_E=e.O()}]);