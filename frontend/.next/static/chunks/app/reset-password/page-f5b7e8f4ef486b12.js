(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{4994:(e,s,t)=>{Promise.resolve().then(t.bind(t,5761))},5695:(e,s,t)=>{"use strict";var a=t(8999);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},5761:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(5155),r=t(2115),n=t(5695);function o(){let e=(0,n.useSearchParams)().get("token")||"",[s,t]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[l,u]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1);r.useEffect(()=>{o&&s!==o?u("Passwords do not match"):u("")},[s,o]);let x=async t=>{if(t.preventDefault(),c(""),!s||!o)return void c("❌ Please fill in all fields.");if(s!==o){u("Passwords do not match"),c("❌ Passwords do not match.");return}h(!0);try{(await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,password:s})})).ok?c("✅ Password reset! You may now log in."):c("❌ Reset failed. Link may be invalid or expired.")}catch(e){c("❌ Server error. Try again.")}h(!1)};return(0,a.jsxs)("main",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-yellow-600 mb-6 text-center",children:"Reset Password"}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"New Password"}),(0,a.jsx)("input",{type:"password",required:!0,value:s,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border rounded shadow-sm",autoComplete:"new-password"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",required:!0,value:o,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border rounded shadow-sm",autoComplete:"new-password"}),l&&(0,a.jsx)("p",{className:"text-red-600 text-xs mt-1",children:l})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-4 rounded",disabled:!!l||!s||!o||m,children:m?"Resetting...":"Reset Password"}),i&&(0,a.jsx)("p",{className:"text-center mt-2 text-green-600",children:i})]})]})}function d(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"text-center mt-10",children:"Loading..."}),children:(0,a.jsx)(o,{})})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=4994)),_N_E=e.O()}]);